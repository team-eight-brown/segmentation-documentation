## Функциональные и нефункциональные требования

### 1. Функциональные требования

1. **Создание сегментов**
    - Возможность создания новых сегментов через API.

2. **Удаление сегментов**
    - Возможность удаления существующих сегментов через API.

3. **Редактирование сегментов**
    - Изменение названия сегмента или его метаданных через API.

4. **Добавление пользователя в сегменты**
    - Возможность добавления пользователей в конкретные сегменты через API.

5. **Удаление пользователя из сегментов**
    - Удаление связи пользователя с сегментами через API.

6. **Случайное распределение пользователей по сегментам**
    - Функционал для случайного распределения определённого процента пользователей (например, 30%) по сегментам.

7. **Получение сегментов пользователя**
    - API для получения списка сегментов, в которые включён пользователь по его `user_id`.

8. **Хранение данных пользователей и сегментов**
    - Система должна поддерживать надёжное хранение данных с возможностью масштабирования по мере увеличения объёма данных.

9. **Ролевая модель**
    - Система должна поддерживать ролевую модель для управления правами доступа и привилегиями пользователей.

##### Основные роли:

- **Администратор (Admin)**
    - Полный доступ ко всем функциям системы:
        - Создание, редактирование и удаление сегментов.
        - Управление пользователями (добавление и удаление из сегментов).
        - Мониторинг системы и просмотр логов.
        - Настройка прав доступа для других ролей.

- **Аналитик (Analyst)**
    - Доступ на чтение данных о пользователях и сегментах:
        - Использование API для аналитики и отчётности.
        - Нет прав на изменение/создание/удаление сегментов, добавление/удаление пользователей из сегментов.


### 2. Нефункциональные требования:

1. **Производительность:**
    - Время отклика API не должно превышать ? мс на операции добавления, удаления или получения сегментов.
    - Поддержка обработки большого количества пользователей (до ? записей).

2. **Масштабируемость:**
    - Сервис должен быть масштабируемым, чтобы справляться с увеличением нагрузки.

3. **Надёжность:**
    - Система должна быть отказоустойчивой, с возможностью восстановления после сбоев.
    - Данные пользователей должны сохраняться корректно, даже при возникновении ошибок или отказах компонентов.

4. **Безопасность:**
    - Необходима аутентификация и авторизация при доступе к API.
    - Ролевая модель ?
    - Защита данных пользователей от несанкционированного доступа.

5. **Удобство использования API:**
    - API должно быть интуитивно понятным и документированным, поддерживать стандарты REST ?

6. **Низкое время развертывания:**
    - Возможность развёртывания и обновления сервиса без длительных простоев.

---
